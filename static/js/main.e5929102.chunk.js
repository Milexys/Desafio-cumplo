(this["webpackJsonpdesafio-cumplo"]=this["webpackJsonpdesafio-cumplo"]||[]).push([[0],{151:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(34),o=a.n(r),l=(a(80),a(58)),i=a.n(l),u=a(71),m=a(16),s=Object(n.createContext)(),d=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(null),i=Object(m.a)(l,2),u=i[0],d=i[1];return c.a.createElement(s.Provider,{value:{startDate:r,setStartDate:o,endDate:u,setEndDate:d}},e.children)},f=a(59),p=a.n(f),h=(a(82),a(30)),E=a.n(h),b=a(62),v=a(22),D=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(0),r=Object(m.a)(a,2),o=r[0],l=r[1];Object(n.useEffect)((function(){"undefined"!==typeof window&&window.addEventListener("resize",i);var e=t.current.getBoundingClientRect().width-10;l(e)}),[]);var i=function(){var e=t.current.getBoundingClientRect(),a=Math.round(e.width-10);l(a)};return c.a.createElement("div",{ref:t,style:{width:"100%",height:"100%"}},c.a.createElement(v.e,{width:o,height:300,xType:"ordinal",yType:"linear",stackBy:"x",yDomain:[e.minimo-10,e.maximo+10]},c.a.createElement(v.c,null),c.a.createElement(v.a,null),c.a.createElement(v.d,null),c.a.createElement(v.f,null),c.a.createElement(v.b,{color:"#2b9b63d5",data:e.data})))},x=function(){var e=Object(n.useContext)(s),t=e.startDate,a=e.setStartDate,r=e.endDate,o=e.setEndDate,l=Object(n.useState)({promedio:0,minimo:0,maximo:0}),d=Object(m.a)(l,2),f=d[0],h=d[1],v=Object(n.useState)(),x=Object(m.a)(v,2),w=x[0],y=x[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var a,n,c,o,l,u,m,s,d,f,p,b,v;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E()(t).format("YYYY/MM"),n=E()(t).format("DD"),c=E()(r).format("YYYY/MM"),o=E()(r).format("DD"),"9c84db4d447c80c74961a72245371245cb7ac15f",l="https://api.sbif.cl/api-sbifv3/recursos_api/dolar/periodo/".concat(a,"/dias_i/").concat(n,"/").concat(c,"/dias_f/").concat(o,"?apikey=").concat("9c84db4d447c80c74961a72245371245cb7ac15f","&formato=json"),e.next=8,fetch(l);case 8:return u=e.sent,e.next=11,u.json();case 11:m=e.sent,s=m.Dolares.map((function(e){return e.Valor})),d=s.length,f=s.reduce((function(e,t){return parseInt(e)+parseInt(t)})),p=s.reduce((function(e,t){return Math.min(parseFloat(e),parseFloat(t))})),b=s.reduce((function(e,t){return Math.max(parseFloat(e),parseFloat(t))})),v=m.Dolares.map((function(e){return{x:e.Fecha,y:parseInt(e.Valor)}})),h({promedio:f/d,minimo:p,maximo:b}),y(v);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,r,y]),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"calendar"},c.a.createElement("label",null,"Fecha Inicial:"),c.a.createElement(p.a,{dateFormat:"dd/MM/yyyy",locale:b.a,selected:t,placeholderText:"Selecciona una Fecha",maxDate:null===t?new Date:r,onChange:function(e){return a(e)}})),c.a.createElement("div",{className:"calendar-2"},c.a.createElement("label",null,"Fecha Final:"),c.a.createElement(p.a,{dateFormat:"dd/MM/yyyy",locale:b.a,placeholderText:"Selecciona una Fecha",selected:r,onChange:function(e){return o(e)},startDate:t,maxDate:new Date,minDate:t})),c.a.createElement("div",{className:"results"},c.a.createElement("p",null,"Promedio: $ ",Math.round(f.promedio)),c.a.createElement("p",null,"M\xednimo: $ ",f.minimo),c.a.createElement("p",null,"M\xe1ximo: $ ",f.maximo)),c.a.createElement("div",{className:"grafico"},c.a.createElement(D,{data:w,minimo:f.minimo,maximo:f.maximo})))},w=(a(151),function(e){return c.a.createElement(d,null,c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Valor del D\xf3lar"),c.a.createElement(x,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,a){e.exports=a(153)},80:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.e5929102.chunk.js.map